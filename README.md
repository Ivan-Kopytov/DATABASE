# Домашние задания
Студент Копытов Иван Максимович, Группа М04-302В, ФЭФМ 

## HW1 - Индексы и вероятность коллизий

1. Создать таблицу и заполнить её данными.
2. Создать различные индексы для таблицы:
   - Индекс по одной колонке.
   - Индекс по двум колонкам.
   - Индекс по выражению.
   - Использовать как минимум 4 типа индексов: 
     - B-дерево (btree).
     - Хэш-индекс (hash).
     - Bloom filter (bloom).
     - Дополнительный индекс на выбор.
3. Сравнить объём хранимых данных для каждого индекса.
4. Для Bloom-фильтра:
   - Рассчитать вероятность коллизий в 32-битном пространстве хэшей для 2,000,000 ключей.
   - Формула:  
     `P = 1 - exp(-N*(N-1)/(2*M))`,  
     где `N` — число уникальных ключей, `M` — размер пространства хэшей.
   - Подставить значения `N = 2,000,000` и `M = 2^32`.
   - Вывести результат, приблизительно или точно.

## HW2 - Производительность базы данных

1. Создать базу данных и таблицу (или несколько таблиц).
2. Заполнить таблицу данными.
3. Выполнить команду `ANALYZE`, чтобы собрать статистику о таблице.
4. Придумать SQL-запросы к базе и замерить их производительность:
   - Использовать `EXPLAIN ANALYZE`.
5. Отключить автоматическое переанализирование статистики:
   - Команды:  
     ```sql
     ALTER SYSTEM SET autovacuum = off;
     SELECT pg_reload_conf();
     ```
6. Изменить содержимое базы данных, не меняя её общий объём:
   - Например, перераспределить данные в таблице.
7. Повторить замеры производительности:
   - Результаты запросов должны показать ухудшение производительности.
   - Разница в скорости должна быть заметна, желательно в десятки процентов или в 2 раза.


## HW3 - Уровни изоляции

1. Прочитать про уровни изоляции транзакций.
   - можно использовать официальную документацию PostgreSQL.
2. Реализовать примеры для следующих случаев:
   - **Грязное чтение (dirty read)**: Демонстрация чтения незакоммиченных данных.
   - **Неповторяемое чтение (non-repeatable read)**: Показать, как значения могут меняться между запросами в одной транзакции.
   - **Фантомное чтение (phantom read)**: Проверить, как появляются новые строки, подходящие под условия запроса.
